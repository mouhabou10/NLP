<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Yassir Reviews ‚Äî NLP Dashboard</title>
<link href="https://fonts.googleapis.com/css2?family=Syne:wght@400;600;700;800&family=DM+Sans:ital,wght@0,300;0,400;0,500;1,300&display=swap" rel="stylesheet"/>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.4.1/chart.umd.min.js"></script>
<style>
:root{
  --purple:#6C2BDB;--pink:#E91E8C;--purple-light:#9B59F5;--dark:#0a0812;--dark2:#110d1a;
  --dark3:#160e2a;--card:#130d22;--border:rgba(108,43,219,0.22);
  --text:#e8e8f0;--muted:#7070a0;--green:#2ecc71;--red:#e74c3c;
  --yellow:#f39c12;--blue:#3498db;
}
*{margin:0;padding:0;box-sizing:border-box;}
body{background:var(--dark);color:var(--text);font-family:'DM Sans',sans-serif;min-height:100vh;overflow-x:hidden;}
body::before{content:'';position:fixed;inset:0;background-image:linear-gradient(rgba(108,43,219,0.03) 1px,transparent 1px),linear-gradient(90deg,rgba(108,43,219,0.03) 1px,transparent 1px);background-size:40px 40px;pointer-events:none;z-index:0;}
.sidebar{position:fixed;left:0;top:0;bottom:0;width:220px;background:var(--dark2);border-right:1px solid var(--border);display:flex;flex-direction:column;padding:24px 0;z-index:100;transition:transform 0.3s ease;}
.logo{padding:0 24px 28px;border-bottom:1px solid var(--border);}
.logo-text{font-family:'Syne',sans-serif;font-size:20px;font-weight:800;color:#a855f7;letter-spacing:-0.5px;}
.logo-sub{font-size:11px;color:var(--muted);margin-top:2px;}
.nav{padding:20px 12px;flex:1;}
.nav-item{display:flex;align-items:center;gap:10px;padding:10px 14px;border-radius:10px;cursor:pointer;font-size:13px;font-weight:500;color:var(--muted);transition:all 0.2s;margin-bottom:4px;border:1px solid transparent;}
.nav-item:hover{background:rgba(108,43,219,0.1);color:var(--text);}
.nav-item.active{background:rgba(108,43,219,0.12);color:#a855f7;border-color:var(--border);}
.nav-item .icon{font-size:16px;width:20px;text-align:center;}
.nav-section-label{font-size:10px;font-weight:600;letter-spacing:1.5px;text-transform:uppercase;color:var(--muted);padding:16px 14px 6px;}
.sidebar-footer{padding:16px 24px;border-top:1px solid var(--border);font-size:11px;color:var(--muted);line-height:1.6;}
.main{margin-left:220px;padding:32px 36px;position:relative;z-index:1;min-height:100vh;}
.page{display:none;animation:fadeUp 0.4s ease;}
.page.active{display:block;}
@keyframes fadeUp{from{opacity:0;transform:translateY(16px)}to{opacity:1;transform:translateY(0)}}
.page-header{margin-bottom:32px;}
.page-title{font-family:'Syne',sans-serif;font-size:32px;font-weight:800;line-height:1.1;background:linear-gradient(135deg,#fff 30%,#E91E8C 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;}
.page-sub{color:var(--muted);font-size:14px;margin-top:6px;}
.filter-bar{display:flex;gap:10px;flex-wrap:wrap;margin-bottom:28px;padding:14px 18px;background:var(--card);border-radius:14px;border:1px solid var(--border);}
.filter-label{font-size:12px;color:var(--muted);align-self:center;margin-right:4px;}
.filter-btn{padding:6px 14px;border-radius:20px;border:1px solid var(--border);background:transparent;color:var(--muted);font-size:12px;font-family:'DM Sans',sans-serif;cursor:pointer;transition:all 0.2s;}
.filter-btn:hover{border-color:#a855f7;color:var(--text);}
.filter-btn.active{background:linear-gradient(135deg,var(--purple),var(--pink));border-color:#a855f7;color:#fff;font-weight:600;}
.kpi-grid{display:grid;grid-template-columns:repeat(5,1fr);gap:14px;margin-bottom:28px;}
.kpi-card{background:var(--card);border:1px solid var(--border);border-radius:16px;padding:20px 18px;position:relative;overflow:hidden;transition:transform 0.2s,border-color 0.2s;}
.kpi-card:hover{transform:translateY(-3px);border-color:rgba(108,43,219,0.45);}
.kpi-card::before{content:'';position:absolute;top:0;left:0;right:0;height:3px;}
.kpi-card.orange::before{background:linear-gradient(90deg,var(--purple),var(--pink));}.kpi-card.green::before{background:var(--green);}.kpi-card.red::before{background:var(--red);}.kpi-card.blue::before{background:var(--blue);}.kpi-card.yellow::before{background:var(--yellow);}
.kpi-label{font-size:11px;text-transform:uppercase;letter-spacing:1px;color:var(--muted);margin-bottom:8px;}
.kpi-value{font-family:'Syne',sans-serif;font-size:28px;font-weight:800;line-height:1;}
.kpi-card.orange .kpi-value{color:#a855f7}.kpi-card.green .kpi-value{color:var(--green)}.kpi-card.red .kpi-value{color:var(--red)}.kpi-card.blue .kpi-value{color:var(--blue)}.kpi-card.yellow .kpi-value{color:var(--yellow)}
.kpi-delta{font-size:11px;color:var(--muted);margin-top:6px;}
.chart-grid-2{display:grid;grid-template-columns:1fr 1fr;gap:20px;margin-bottom:20px;}
.chart-grid-3{display:grid;grid-template-columns:1fr 1fr 1fr;gap:20px;margin-bottom:20px;}
.chart-grid-1{display:grid;grid-template-columns:1fr;gap:20px;margin-bottom:20px;}
.chart-grid-13{display:grid;grid-template-columns:1fr 2fr;gap:20px;margin-bottom:20px;}
.chart-grid-31{display:grid;grid-template-columns:2fr 1fr;gap:20px;margin-bottom:20px;}
.chart-card{background:var(--card);border:1px solid var(--border);border-radius:16px;padding:22px;transition:border-color 0.2s;}
.chart-card:hover{border-color:rgba(108,43,219,0.35);}
.chart-card-header{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:18px;}
.chart-card-title{font-family:'Syne',sans-serif;font-size:15px;font-weight:700;color:var(--text);}
.chart-card-sub{font-size:11px;color:var(--muted);margin-top:3px;}
.chart-badge{font-size:10px;padding:3px 8px;border-radius:10px;background:rgba(108,43,219,0.1);color:#a855f7;border:1px solid rgba(108,43,219,0.25);white-space:nowrap;}
.chart-container{position:relative;}
.insight-box{background:rgba(108,43,219,0.06);border:1px solid rgba(108,43,219,0.25);border-radius:12px;padding:14px 18px;font-size:12.5px;color:#c0c0d8;line-height:1.7;margin-top:14px;}
.insight-box strong{color:#a855f7;}
.wordcloud-container{display:flex;flex-wrap:wrap;gap:8px;padding:16px;align-items:center;justify-content:center;min-height:200px;}
.wc-word{cursor:default;border-radius:6px;padding:4px 10px;transition:transform 0.2s,opacity 0.2s;font-family:'Syne',sans-serif;font-weight:700;}
.wc-word:hover{transform:scale(1.15);opacity:0.9;}
.review-list{display:flex;flex-direction:column;gap:12px;}
.review-item{background:var(--dark3);border:1px solid var(--border);border-radius:12px;padding:16px;transition:border-color 0.2s;}
.review-item:hover{border-color:rgba(108,43,219,0.4);}
.review-meta{display:flex;align-items:center;gap:10px;margin-bottom:8px;}
.review-stars{color:var(--yellow);font-size:13px;}.review-stars.neg{color:var(--red);}
.review-author{font-size:12px;color:var(--muted);}.review-date{font-size:11px;color:var(--muted);margin-left:auto;}
.review-text{font-size:13px;line-height:1.6;color:var(--text);}
.review-thumbs{font-size:11px;color:var(--muted);margin-top:8px;}
.lang-bar-item{margin-bottom:16px;}
.lang-bar-label{display:flex;justify-content:space-between;font-size:12px;margin-bottom:6px;}
.lang-bar-track{background:rgba(255,255,255,0.06);border-radius:4px;height:8px;overflow:hidden;}
.lang-bar-fill{height:100%;border-radius:4px;transition:width 1s ease;}
.timeline-item{display:flex;gap:16px;padding:10px 0;border-bottom:1px solid var(--border);align-items:center;}
.timeline-year{font-family:'Syne',sans-serif;font-weight:800;font-size:16px;color:#a855f7;min-width:46px;}
.timeline-bar-wrap{flex:1;display:flex;align-items:center;gap:10px;}
.timeline-bar{height:18px;border-radius:4px;background:linear-gradient(90deg,var(--purple),var(--purple-light));transition:width 1.2s ease;min-width:2px;}
.timeline-count{font-size:11px;color:var(--muted);white-space:nowrap;}
.donut-wrap{position:relative;}
.donut-center{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);text-align:center;pointer-events:none;}
.donut-center-val{font-family:'Syne',sans-serif;font-size:26px;font-weight:800;color:var(--text);}
.donut-center-label{font-size:11px;color:var(--muted);}
.hamburger{display:none;position:fixed;top:16px;left:16px;z-index:200;background:var(--card);border:1px solid var(--border);border-radius:10px;padding:8px 10px;cursor:pointer;font-size:18px;}
.overlay{display:none;position:fixed;inset:0;background:rgba(0,0,0,0.6);z-index:99;}
.animate-in{opacity:0;transform:translateY(20px);transition:opacity 0.5s ease,transform 0.5s ease;}
.animate-in.visible{opacity:1;transform:translateY(0);}
@media(max-width:1200px){.kpi-grid{grid-template-columns:repeat(3,1fr)}.chart-grid-3{grid-template-columns:1fr 1fr}}
@media(max-width:900px){.sidebar{transform:translateX(-220px)}.sidebar.open{transform:translateX(0)}.main{margin-left:0;padding:20px 16px;padding-top:60px;}.hamburger{display:block}.overlay.show{display:block}.chart-grid-2,.chart-grid-13,.chart-grid-31{grid-template-columns:1fr}.kpi-grid{grid-template-columns:repeat(2,1fr)}.page-title{font-size:24px}}
@media(max-width:500px){.kpi-grid{grid-template-columns:1fr 1fr}.chart-grid-3{grid-template-columns:1fr}}
::-webkit-scrollbar{width:6px}::-webkit-scrollbar-track{background:var(--dark2)}::-webkit-scrollbar-thumb{background:rgba(108,43,219,0.4);border-radius:3px}
</style>
</head>
<body>
<button class="hamburger" onclick="toggleSidebar()">‚ò∞</button>
<div class="overlay" id="overlay" onclick="toggleSidebar()"></div>
<nav class="sidebar" id="sidebar">
  <div class="logo">
    <div class="logo-text">YASSIR</div>
    <div class="logo-sub">Customer Reviews ¬∑ NLP Project</div>
  </div>
  <div class="nav">
    <div class="nav-section-label">Analytics</div>
    <div class="nav-item active" onclick="showPage('overview')"><span class="icon">üìä</span> Overview</div>
    <div class="nav-item" onclick="showPage('ratings')"><span class="icon">‚≠ê</span> Ratings</div>
    <div class="nav-item" onclick="showPage('trends')"><span class="icon">üìà</span> Trends</div>
    <div class="nav-section-label">Content</div>
    <div class="nav-item" onclick="showPage('words')"><span class="icon">‚òÅÔ∏è</span> Word Analysis</div>
    <div class="nav-item" onclick="showPage('reviews')"><span class="icon">üí¨</span> Top Reviews</div>
    <div class="nav-section-label">Context</div>
    <div class="nav-item" onclick="showPage('languages')"><span class="icon">üåç</span> Languages</div>
    <div class="nav-item" onclick="showPage('insights')"><span class="icon">üí°</span> Insights</div>
  </div>
  <div class="sidebar-footer">
    <div>üì± Yassir - Ride, Eat &amp; Shop</div>
    <div>üóìÔ∏è 2017-09-22 ‚Üí 2026-02-25</div>
    <div style="margin-top:6px">NLP Course ¬∑ Group Project</div>
  </div>
</nav>
<main class="main">

<!-- PAGE 1: OVERVIEW -->
<div class="page active" id="page-overview">
  <div class="page-header">
    <div class="page-title">Executive Overview</div>
    <div class="page-sub">6,120 customer reviews ¬∑ Google Play Store ¬∑ Algeria ¬∑ 2017-09-22 ‚Üí 2026-02-25</div>
  </div>
  <div class="kpi-grid animate-in">
    <div class="kpi-card orange"><div class="kpi-label">Total Reviews</div><div class="kpi-value">6,120</div><div class="kpi-delta">2017 ‚Äì 2026</div></div>
    <div class="kpi-card yellow"><div class="kpi-label">Avg Rating</div><div class="kpi-value">3.24‚òÖ</div><div class="kpi-delta">Out of 5.0</div></div>
    <div class="kpi-card green"><div class="kpi-label">Positive</div><div class="kpi-value">55.6%</div><div class="kpi-delta">4‚Äì5 star reviews</div></div>
    <div class="kpi-card red"><div class="kpi-label">Negative</div><div class="kpi-value">40.4%</div><div class="kpi-delta">1‚Äì2 star reviews</div></div>
    <div class="kpi-card blue"><div class="kpi-label">Years Active</div><div class="kpi-value">10 yrs</div><div class="kpi-delta">3,650 days of data</div></div>
  </div>
  <div class="chart-grid-13 animate-in" style="transition-delay:0.1s">
    <div class="chart-card">
      <div class="chart-card-header"><div><div class="chart-card-title">Sentiment Breakdown</div><div class="chart-card-sub">By review category</div></div><span class="chart-badge">All time</span></div>
      <div class="donut-wrap"><div class="chart-container" style="height:220px"><canvas id="sentimentDonut"></canvas></div>
      <div class="donut-center"><div class="donut-center-val">3.24</div><div class="donut-center-label">avg ‚òÖ</div></div></div>
    </div>
    <div class="chart-card">
      <div class="chart-card-header"><div><div class="chart-card-title">Reviews Per Year</div><div class="chart-card-sub">Growth trajectory</div></div><span class="chart-badge">Yearly</span></div>
      <div class="chart-container" style="height:220px"><canvas id="yearlyBar"></canvas></div>
    </div>
  </div>
  <div class="chart-grid-2 animate-in" style="transition-delay:0.2s">
    <div class="chart-card">
      <div class="chart-card-header"><div><div class="chart-card-title">Monthly Volume</div><div class="chart-card-sub">Review activity over time</div></div></div>
      <div class="chart-container" style="height:180px"><canvas id="monthlyLine"></canvas></div>
    </div>
    <div class="chart-card">
      <div class="chart-card-header"><div><div class="chart-card-title">Rating Distribution</div><div class="chart-card-sub">Count per star level</div></div></div>
      <div class="chart-container" style="height:180px"><canvas id="ratingBarOverview"></canvas></div>
    </div>
  </div>
</div>

<!-- PAGE 2: RATINGS -->
<div class="page" id="page-ratings">
  <div class="page-header"><div class="page-title">Rating Analysis</div><div class="page-sub">Deep dive into star ratings and sentiment patterns</div></div>
  <div class="filter-bar animate-in">
    <span class="filter-label">Filter by year:</span>
    <button class="filter-btn active" onclick="filterRatings('all',this)">All Years</button>
    <div id="year-filter-btns"></div>
  </div>
  <div class="chart-grid-2 animate-in" style="transition-delay:0.1s">
    <div class="chart-card">
      <div class="chart-card-header"><div><div class="chart-card-title">Star Distribution</div><div class="chart-card-sub">Count per rating level</div></div><span class="chart-badge" id="rating-year-badge">All Years</span></div>
      <div class="chart-container" style="height:260px"><canvas id="ratingBarDetail"></canvas></div>
    </div>
    <div class="chart-card">
      <div class="chart-card-header"><div><div class="chart-card-title">Sentiment Pie</div><div class="chart-card-sub">Positive ¬∑ Neutral ¬∑ Negative</div></div></div>
      <div class="chart-container" style="height:260px"><canvas id="sentimentPie"></canvas></div>
    </div>
  </div>
  <div class="chart-grid-1 animate-in" style="transition-delay:0.2s">
    <div class="chart-card">
      <div class="chart-card-header"><div><div class="chart-card-title">Average Rating Over Time</div><div class="chart-card-sub">Monthly average with 3-month rolling mean</div></div></div>
      <div class="chart-container" style="height:220px"><canvas id="ratingTrend"></canvas></div>
      <div class="insight-box"><strong>üìå Key insight:</strong> Early years show higher ratings from early adopters. Dips post-2021 correlate with rapid scaling. The 3.24‚òÖ average masks extreme polarisation (55.6% positive vs 40.4% negative).</div>
    </div>
  </div>
</div>

<!-- PAGE 3: TRENDS -->
<div class="page" id="page-trends">
  <div class="page-header"><div class="page-title">Volume Trends</div><div class="page-sub">How Yassir's review activity evolved over time</div></div>
  <div class="chart-grid-1 animate-in">
    <div class="chart-card">
      <div class="chart-card-header"><div><div class="chart-card-title">Monthly Review Volume</div><div class="chart-card-sub">All reviews</div></div>
      <div style="display:flex;gap:8px">
        <button class="filter-btn active" id="trend-all" onclick="switchTrend('all')">All</button>
        <button class="filter-btn" id="trend-pos" onclick="switchTrend('pos')">Positive</button>
        <button class="filter-btn" id="trend-neg" onclick="switchTrend('neg')">Negative</button>
      </div></div>
      <div class="chart-container" style="height:260px"><canvas id="trendLine"></canvas></div>
    </div>
  </div>
  <div class="chart-grid-2 animate-in" style="transition-delay:0.1s">
    <div class="chart-card">
      <div class="chart-card-header"><div><div class="chart-card-title">Growth Timeline</div><div class="chart-card-sub">Annual review count</div></div></div>
      <div id="timeline-chart" style="padding:4px 0;max-height:300px;overflow-y:auto"></div>
    </div>
    <div class="chart-card">
      <div class="chart-card-header"><div><div class="chart-card-title">Volume Heatmap</div><div class="chart-card-sub">Month √ó Year intensity</div></div></div>
      <div class="chart-container" style="height:260px"><canvas id="heatmapChart"></canvas></div>
    </div>
  </div>
  <div class="insight-box animate-in" style="transition-delay:0.2s">
    <strong>üìå Growth story:</strong> From just 17 reviews in 2017 to 2,200 in 2024 ‚Äî a <strong>129√ó increase</strong>. The 2021 spike coincides with COVID-19 lockdowns boosting food delivery demand. Post-2022 growth reflects Yassir expanding into new cities and services.
  </div>
</div>

<!-- PAGE 4: WORDS -->
<div class="page" id="page-words">
  <div class="page-header"><div class="page-title">Word Analysis</div><div class="page-sub">Most frequent terms across positive and negative reviews</div></div>
  <div class="filter-bar animate-in">
    <span class="filter-label">Show:</span>
    <button class="filter-btn active" onclick="switchCloud('all',this)">All Reviews</button>
    <button class="filter-btn" onclick="switchCloud('pos',this)">Positive Only</button>
    <button class="filter-btn" onclick="switchCloud('neg',this)">Negative Only</button>
  </div>
  <div class="chart-grid-1 animate-in" style="transition-delay:0.1s">
    <div class="chart-card">
      <div class="chart-card-header"><div><div class="chart-card-title">Word Cloud</div><div class="chart-card-sub">Most frequent words ‚Äî size = frequency</div></div></div>
      <div class="wordcloud-container" id="wordcloud"></div>
    </div>
  </div>
  <div class="chart-grid-2 animate-in" style="transition-delay:0.2s">
    <div class="chart-card">
      <div class="chart-card-header"><div><div class="chart-card-title">Top 15 ‚Äî Positive Reviews</div><div class="chart-card-sub">Most frequent in 4‚Äì5‚òÖ reviews</div></div></div>
      <div class="chart-container" style="height:300px"><canvas id="topWordsPos"></canvas></div>
    </div>
    <div class="chart-card">
      <div class="chart-card-header"><div><div class="chart-card-title">Top 15 ‚Äî Negative Reviews</div><div class="chart-card-sub">Most frequent in 1‚Äì2‚òÖ reviews</div></div></div>
      <div class="chart-container" style="height:300px"><canvas id="topWordsNeg"></canvas></div>
    </div>
  </div>
  <div class="insight-box animate-in" style="transition-delay:0.3s">
    <strong>üìå Key finding:</strong> Positive reviews center on speed, service, and driver quality. Negative reviews highlight pricing, bugs, cancellations, and driver behavior. The word "chauffeur/driver" appears in both ‚Äî it is the single most impactful variable in user satisfaction.
  </div>
</div>

<!-- PAGE 5: TOP REVIEWS -->
<div class="page" id="page-reviews">
  <div class="page-header"><div class="page-title">Top Reviews</div><div class="page-sub">Most upvoted reviews by the community ‚Äî real data</div></div>
  <div class="filter-bar animate-in">
    <span class="filter-label">Show:</span>
    <button class="filter-btn active" onclick="filterReviews('all',this)">All</button>
    <button class="filter-btn" onclick="filterReviews('pos',this)">Positive</button>
    <button class="filter-btn" onclick="filterReviews('neg',this)">Negative</button>
  </div>
  <div class="chart-grid-31 animate-in" style="transition-delay:0.1s">
    <div class="chart-card">
      <div class="chart-card-header"><div><div class="chart-card-title">Most Upvoted Reviews</div><div class="chart-card-sub">Community-validated feedback from real users</div></div></div>
      <div class="review-list" id="review-list"></div>
    </div>
    <div class="chart-card">
      <div class="chart-card-header"><div><div class="chart-card-title">Thumbs Up Chart</div><div class="chart-card-sub">Top reviews by upvotes</div></div></div>
      <div class="chart-container" style="height:300px"><canvas id="thumbsChart"></canvas></div>
      <div class="insight-box" style="margin-top:14px"><strong>üìå Note:</strong> Most upvoted = most representative frustrations. Community validates shared pain points.</div>
    </div>
  </div>
</div>

<!-- PAGE 6: LANGUAGES -->
<div class="page" id="page-languages">
  <div class="page-header"><div class="page-title">Language Distribution</div><div class="page-sub">Multilingual analysis ‚Äî detected from 1,500 sampled reviews</div></div>
  <div class="chart-grid-2 animate-in">
    <div class="chart-card">
      <div class="chart-card-header"><div><div class="chart-card-title">Language Share</div><div class="chart-card-sub">Heuristic detection on sample</div></div></div>
      <div class="chart-container" style="height:260px"><canvas id="langDonut"></canvas></div>
    </div>
    <div class="chart-card">
      <div class="chart-card-header"><div><div class="chart-card-title">Language Breakdown</div><div class="chart-card-sub">With estimated counts</div></div></div>
      <div style="padding:16px 0" id="lang-bars"></div>
      <div class="insight-box"><strong>üìå NLP challenge:</strong> Reviews mix French, Arabic (MSA + Darija), and English ‚Äî sometimes in the same sentence. Standard NLP tools need language-specific preprocessing for each.</div>
    </div>
  </div>
  <div class="chart-grid-1 animate-in" style="transition-delay:0.1s">
    <div class="chart-card">
      <div class="chart-card-header"><div><div class="chart-card-title">Avg Rating by Language</div><div class="chart-card-sub">Do different language groups rate differently?</div></div></div>
      <div class="chart-container" style="height:200px"><canvas id="langRating"></canvas></div>
    </div>
  </div>
</div>

<!-- PAGE 7: INSIGHTS -->
<div class="page" id="page-insights">
  <div class="page-header"><div class="page-title">Key Insights</div><div class="page-sub">Findings &amp; recommendations for Yassir</div></div>
  <div class="chart-grid-2 animate-in">
    <div class="chart-card">
      <div class="chart-card-header"><div><div class="chart-card-title">Review Length vs Sentiment</div><div class="chart-card-sub">Avg characters per group</div></div></div>
      <div class="chart-container" style="height:240px"><canvas id="lengthChart"></canvas></div>
      <div class="insight-box"><strong>üìå Finding:</strong> Negative reviews average <strong>75 chars</strong> vs 23 for positive. Unhappy users explain their problems in detail ‚Äî rich data for NLP.</div>
    </div>
    <div class="chart-card">
      <div class="chart-card-header"><div><div class="chart-card-title">Rating Composition √ó Year</div><div class="chart-card-sub">Stacked ‚Äî sentiment evolution</div></div></div>
      <div class="chart-container" style="height:240px"><canvas id="stackedBar"></canvas></div>
    </div>
  </div>
  <div class="chart-grid-1 animate-in" style="transition-delay:0.1s">
    <div class="chart-card" style="background:linear-gradient(135deg,var(--card) 0%,rgba(108,43,219,0.05) 100%)">
      <div class="chart-card-title" style="margin-bottom:20px;font-size:17px">üîç Recommendations for Yassir</div>
      <div style="display:grid;grid-template-columns:1fr 1fr;gap:14px" id="rec-grid"></div>
    </div>
  </div>
</div>

</main>

<script>
const D = {"meta": {"total": 6120, "avg_rating": 3.24, "pct_positive": 55.6, "pct_negative": 40.4, "pct_neutral": 4.0, "count_pos": 3402, "count_neg": 2471, "count_neu": 247, "date_min": "2017-09-22", "date_max": "2026-02-25", "n_years": 10, "avg_len_pos": 23, "avg_len_neu": 66, "avg_len_neg": 75}, "rating_all": [2324, 147, 247, 528, 2874], "rating_by_year": {"2017": [4, 2, 0, 1, 10], "2018": [16, 7, 5, 11, 44], "2019": [27, 5, 9, 5, 55], "2020": [44, 3, 6, 8, 31], "2021": [105, 11, 30, 54, 288], "2022": [147, 23, 29, 95, 501], "2023": [196, 24, 44, 101, 530], "2024": [1391, 28, 52, 106, 623], "2025": [341, 40, 67, 142, 741]}, "yearly": {"labels": ["2017", "2018", "2019", "2020", "2021", "2022", "2023", "2024", "2025", "2026"], "counts": [17, 83, 101, 92, 488, 795, 895, 2200, 1331, 118]}, "monthly": {"labels": ["2017-09", "2017-10", "2017-11", "2017-12", "2018-01", "2018-02", "2018-03", "2018-04", "2018-05", "2018-06", "2018-07", "2018-08", "2018-09", "2018-10", "2018-11", "2018-12", "2019-01", "2019-02", "2019-03", "2019-04", "2019-05", "2019-06", "2019-07", "2019-08", "2019-09", "2019-10", "2019-11", "2019-12", "2020-01", "2020-02", "2020-03", "2020-04", "2020-05", "2020-06", "2020-07", "2020-08", "2020-09", "2020-10", "2020-11", "2020-12", "2021-01", "2021-02", "2021-03", "2021-04", "2021-05", "2021-06", "2021-07", "2021-08", "2021-09", "2021-10", "2021-11", "2021-12", "2022-01", "2022-02", "2022-03", "2022-04", "2022-05", "2022-06", "2022-07", "2022-08", "2022-09", "2022-10", "2022-11", "2022-12", "2023-01", "2023-02", "2023-03", "2023-04", "2023-05", "2023-06", "2023-07", "2023-08", "2023-09", "2023-10", "2023-11", "2023-12", "2024-01", "2024-02", "2024-03", "2024-04", "2024-05", "2024-06", "2024-07", "2024-08", "2024-09", "2024-10", "2024-11", "2024-12", "2025-01", "2025-02", "2025-03", "2025-04", "2025-05", "2025-06", "2025-07", "2025-08", "2025-09", "2025-10", "2025-11", "2025-12", "2026-01", "2026-02"], "all": [2, 8, 5, 2, 1, 1, 5, 8, 10, 12, 8, 5, 11, 11, 5, 6, 8, 5, 10, 8, 3, 5, 10, 9, 4, 11, 10, 18, 11, 15, 5, 5, 2, 9, 5, 6, 5, 8, 7, 14, 8, 19, 11, 12, 16, 19, 12, 46, 65, 59, 92, 129, 75, 67, 42, 18, 65, 48, 96, 106, 73, 70, 69, 66, 63, 65, 69, 66, 69, 60, 126, 68, 50, 103, 91, 65, 63, 34, 28, 57, 630, 531, 135, 154, 165, 140, 130, 133, 114, 87, 70, 101, 75, 105, 136, 115, 107, 128, 173, 120, 70, 48], "pos": [2, 7, 2, 0, 1, 1, 3, 5, 7, 8, 5, 2, 5, 9, 4, 5, 4, 5, 6, 4, 2, 4, 5, 7, 2, 6, 6, 9, 7, 9, 1, 3, 0, 5, 1, 1, 1, 2, 1, 8, 2, 9, 6, 6, 6, 2, 2, 33, 50, 40, 81, 105, 65, 58, 31, 9, 48, 33, 47, 80, 54, 60, 58, 53, 51, 51, 55, 47, 51, 39, 91, 29, 30, 71, 71, 45, 31, 15, 8, 25, 54, 39, 61, 92, 112, 104, 93, 95, 83, 66, 49, 69, 46, 76, 93, 75, 72, 75, 114, 65, 33, 23], "neg": [0, 1, 3, 2, 0, 0, 2, 3, 2, 4, 3, 2, 3, 2, 1, 1, 2, 0, 3, 3, 0, 1, 4, 2, 1, 4, 3, 9, 4, 4, 2, 2, 2, 4, 4, 4, 4, 6, 6, 5, 6, 9, 4, 3, 10, 14, 6, 7, 12, 16, 8, 21, 7, 7, 11, 8, 14, 13, 46, 20, 15, 8, 9, 12, 11, 9, 13, 14, 13, 17, 26, 36, 19, 29, 16, 17, 32, 17, 19, 29, 570, 489, 67, 55, 46, 36, 29, 30, 24, 18, 16, 29, 23, 26, 38, 35, 30, 42, 54, 46, 34, 23], "avg_rating": [5.0, 4.38, 2.6, 2.0, 5.0, 4.0, 3.4, 3.38, 4.1, 3.58, 3.62, 3.0, 3.36, 4.27, 3.8, 4.17, 3.5, 5.0, 3.6, 3.25, 4.33, 4.4, 3.2, 4.11, 3.25, 3.36, 3.6, 3.0, 3.45, 3.6, 2.4, 3.2, 1.0, 3.22, 1.8, 2.17, 1.8, 1.75, 1.57, 3.43, 1.88, 2.89, 3.45, 3.25, 2.56, 1.74, 2.33, 4.11, 4.11, 3.68, 4.46, 4.19, 4.39, 4.4, 3.88, 3.06, 3.91, 3.77, 3.04, 4.06, 4.03, 4.3, 4.32, 4.14, 4.13, 4.11, 4.16, 3.91, 4.01, 3.65, 3.88, 2.84, 3.48, 3.76, 4.1, 3.78, 2.92, 2.88, 2.21, 2.84, 1.36, 1.31, 2.9, 3.42, 3.7, 3.81, 3.87, 3.9, 3.98, 3.97, 3.86, 3.76, 3.52, 3.9, 3.71, 3.63, 3.73, 3.44, 3.6, 3.23, 2.96, 3.0]}, "heatmap": {"data": [{"x": 0, "y": 8, "r": 2.1, "v": 2}, {"x": 0, "y": 9, "r": 4.2, "v": 8}, {"x": 0, "y": 10, "r": 3.4, "v": 5}, {"x": 0, "y": 11, "r": 2.1, "v": 2}, {"x": 1, "y": 0, "r": 1.5, "v": 1}, {"x": 1, "y": 1, "r": 1.5, "v": 1}, {"x": 1, "y": 2, "r": 3.4, "v": 5}, {"x": 1, "y": 3, "r": 4.2, "v": 8}, {"x": 1, "y": 4, "r": 4.7, "v": 10}, {"x": 1, "y": 5, "r": 5.2, "v": 12}, {"x": 1, "y": 6, "r": 4.2, "v": 8}, {"x": 1, "y": 7, "r": 3.4, "v": 5}, {"x": 1, "y": 8, "r": 5.0, "v": 11}, {"x": 1, "y": 9, "r": 5.0, "v": 11}, {"x": 1, "y": 10, "r": 3.4, "v": 5}, {"x": 1, "y": 11, "r": 3.7, "v": 6}, {"x": 2, "y": 0, "r": 4.2, "v": 8}, {"x": 2, "y": 1, "r": 3.4, "v": 5}, {"x": 2, "y": 2, "r": 4.7, "v": 10}, {"x": 2, "y": 3, "r": 4.2, "v": 8}, {"x": 2, "y": 4, "r": 2.6, "v": 3}, {"x": 2, "y": 5, "r": 3.4, "v": 5}, {"x": 2, "y": 6, "r": 4.7, "v": 10}, {"x": 2, "y": 7, "r": 4.5, "v": 9}, {"x": 2, "y": 8, "r": 3.0, "v": 4}, {"x": 2, "y": 9, "r": 5.0, "v": 11}, {"x": 2, "y": 10, "r": 4.7, "v": 10}, {"x": 2, "y": 11, "r": 6.4, "v": 18}, {"x": 3, "y": 0, "r": 5.0, "v": 11}, {"x": 3, "y": 1, "r": 5.8, "v": 15}, {"x": 3, "y": 2, "r": 3.4, "v": 5}, {"x": 3, "y": 3, "r": 3.4, "v": 5}, {"x": 3, "y": 4, "r": 2.1, "v": 2}, {"x": 3, "y": 5, "r": 4.5, "v": 9}, {"x": 3, "y": 6, "r": 3.4, "v": 5}, {"x": 3, "y": 7, "r": 3.7, "v": 6}, {"x": 3, "y": 8, "r": 3.4, "v": 5}, {"x": 3, "y": 9, "r": 4.2, "v": 8}, {"x": 3, "y": 10, "r": 4.0, "v": 7}, {"x": 3, "y": 11, "r": 5.6, "v": 14}, {"x": 4, "y": 0, "r": 4.2, "v": 8}, {"x": 4, "y": 1, "r": 6.5, "v": 19}, {"x": 4, "y": 2, "r": 5.0, "v": 11}, {"x": 4, "y": 3, "r": 5.2, "v": 12}, {"x": 4, "y": 4, "r": 6.0, "v": 16}, {"x": 4, "y": 5, "r": 6.5, "v": 19}, {"x": 4, "y": 6, "r": 5.2, "v": 12}, {"x": 4, "y": 7, "r": 10.2, "v": 46}, {"x": 4, "y": 8, "r": 12.1, "v": 65}, {"x": 4, "y": 9, "r": 11.5, "v": 59}, {"x": 4, "y": 10, "r": 14.4, "v": 92}, {"x": 4, "y": 11, "r": 17.0, "v": 129}, {"x": 5, "y": 0, "r": 13.0, "v": 75}, {"x": 5, "y": 1, "r": 12.3, "v": 67}, {"x": 5, "y": 2, "r": 9.7, "v": 42}, {"x": 5, "y": 3, "r": 6.4, "v": 18}, {"x": 5, "y": 4, "r": 12.1, "v": 65}, {"x": 5, "y": 5, "r": 10.4, "v": 48}, {"x": 5, "y": 6, "r": 14.7, "v": 96}, {"x": 5, "y": 7, "r": 15.4, "v": 106}, {"x": 5, "y": 8, "r": 12.8, "v": 73}, {"x": 5, "y": 9, "r": 12.5, "v": 70}, {"x": 5, "y": 10, "r": 12.5, "v": 69}, {"x": 5, "y": 11, "r": 12.2, "v": 66}, {"x": 6, "y": 0, "r": 11.9, "v": 63}, {"x": 6, "y": 1, "r": 12.1, "v": 65}, {"x": 6, "y": 2, "r": 12.5, "v": 69}, {"x": 6, "y": 3, "r": 12.2, "v": 66}, {"x": 6, "y": 4, "r": 12.5, "v": 69}, {"x": 6, "y": 5, "r": 11.6, "v": 60}, {"x": 6, "y": 6, "r": 16.8, "v": 126}, {"x": 6, "y": 7, "r": 12.4, "v": 68}, {"x": 6, "y": 8, "r": 10.6, "v": 50}, {"x": 6, "y": 9, "r": 15.2, "v": 103}, {"x": 6, "y": 10, "r": 14.3, "v": 91}, {"x": 6, "y": 11, "r": 12.1, "v": 65}, {"x": 7, "y": 0, "r": 11.9, "v": 63}, {"x": 7, "y": 1, "r": 8.7, "v": 34}, {"x": 7, "y": 2, "r": 7.9, "v": 28}, {"x": 7, "y": 3, "r": 11.3, "v": 57}, {"x": 7, "y": 4, "r": 37.6, "v": 630}, {"x": 7, "y": 5, "r": 34.6, "v": 531}, {"x": 7, "y": 6, "r": 17.4, "v": 135}, {"x": 7, "y": 7, "r": 18.6, "v": 154}, {"x": 7, "y": 8, "r": 19.3, "v": 165}, {"x": 7, "y": 9, "r": 17.7, "v": 140}, {"x": 7, "y": 10, "r": 17.1, "v": 130}, {"x": 7, "y": 11, "r": 17.3, "v": 133}, {"x": 8, "y": 0, "r": 16.0, "v": 114}, {"x": 8, "y": 1, "r": 14.0, "v": 87}, {"x": 8, "y": 2, "r": 12.5, "v": 70}, {"x": 8, "y": 3, "r": 15.1, "v": 101}, {"x": 8, "y": 4, "r": 13.0, "v": 75}, {"x": 8, "y": 5, "r": 15.4, "v": 105}, {"x": 8, "y": 6, "r": 17.5, "v": 136}, {"x": 8, "y": 7, "r": 16.1, "v": 115}, {"x": 8, "y": 8, "r": 15.5, "v": 107}, {"x": 8, "y": 9, "r": 17.0, "v": 128}, {"x": 8, "y": 10, "r": 19.7, "v": 173}, {"x": 8, "y": 11, "r": 16.4, "v": 120}, {"x": 9, "y": 0, "r": 12.5, "v": 70}, {"x": 9, "y": 1, "r": 10.4, "v": 48}], "year_labels": ["2017", "2018", "2019", "2020", "2021", "2022", "2023", "2024", "2025", "2026"], "month_labels": ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"]}, "stacked": {"years": ["2017", "2018", "2019", "2020", "2021", "2022", "2023", "2024", "2025"], "by_star": {"1": [4, 16, 27, 44, 105, 147, 196, 1391, 341], "2": [2, 7, 5, 3, 11, 23, 24, 28, 40], "3": [0, 5, 9, 6, 30, 29, 44, 52, 67], "4": [1, 11, 5, 8, 54, 95, 101, 106, 142], "5": [10, 44, 55, 31, 288, 501, 530, 623, 741]}}, "words": {"all": [{"word": "good", "count": 961}, {"word": "service", "count": 431}, {"word": "very", "count": 396}, {"word": "with", "count": 247}, {"word": "great", "count": 234}, {"word": "nice", "count": 207}, {"word": "best", "count": 180}, {"word": "time", "count": 176}, {"word": "drivers", "count": 162}, {"word": "order", "count": 126}, {"word": "experience", "count": 126}, {"word": "worst", "count": 115}, {"word": "code", "count": 112}, {"word": "ever", "count": 110}, {"word": "delivery", "count": 100}, {"word": "work", "count": 97}, {"word": "driver", "count": 94}, {"word": "like", "count": 93}, {"word": "there", "count": 89}, {"word": "excellent", "count": 89}], "pos": [{"word": "good", "count": 853}, {"word": "very", "count": 258}, {"word": "service", "count": 222}, {"word": "great", "count": 219}, {"word": "nice", "count": 191}, {"word": "best", "count": 173}, {"word": "excellent", "count": 88}, {"word": "amazing", "count": 70}, {"word": "useful", "count": 59}, {"word": "thank", "count": 56}, {"word": "time", "count": 53}, {"word": "love", "count": 52}, {"word": "bonne", "count": 51}, {"word": "with", "count": 50}, {"word": "super", "count": 50}], "neg": [{"word": "service", "count": 196}, {"word": "with", "count": 181}, {"word": "very", "count": 128}, {"word": "worst", "count": 115}, {"word": "order", "count": 111}, {"word": "time", "count": 108}, {"word": "drivers", "count": 107}, {"word": "code", "count": 103}, {"word": "ever", "count": 81}, {"word": "experience", "count": 78}, {"word": "support", "count": 77}, {"word": "driver", "count": 70}, {"word": "shame", "count": 66}, {"word": "delivery", "count": 65}, {"word": "there", "count": 63}]}, "top_reviews": [{"author": "knitella blog", "rating": 1, "thumbs": 385, "date": "2022-03-18", "text": "Awful üòñ the app takes a lot of time to send the verification code throughout the sms process couldn't get in the first few minutes (too long) considering if you are using it in a very critic situation when you need a ride!! I think that we are waay beyond this kind of stuff for the moment and an old"}, {"author": "A Google user", "rating": 1, "thumbs": 370, "date": "2024-03-17", "text": "Worst food delivery app ever seen. They call 5 times to confirm the order. Then they call to cancel or change the order. Once it's out for delivery. They take another 1-2 hours to deliver the order. I tried two times to give them a chance. But the same result. Total time will be 3-4 hours till you r"}, {"author": "A Google user", "rating": 2, "thumbs": 352, "date": "2018-12-29", "text": "First of all I would like to thank you for the efforts made to conceive such an application. Now despite the fact the application proved to be very helpful to both drivers and travellers, the itinerary is not always chosen well. There is no flexibility in selecting the itinerary. The algorithm used "}, {"author": "A Google user", "rating": 1, "thumbs": 223, "date": "2024-05-30", "text": "Bad application, I do not recommend it. They have no principles. Free palastine we support only palastine wherever and whenever and forever"}, {"author": "A Google user", "rating": 1, "thumbs": 221, "date": "2024-05-25", "text": "The worst app I've ever tried in my whole life, it doesn't work at all, erreur problems everytime i try to book a ride, never try again."}, {"author": "A Google user", "rating": 1, "thumbs": 220, "date": "2023-07-18", "text": "I was standing outside with my wife in summer (48 c¬∞)we both used the app. They accepted her ride in the first attempt and they didn't accept my ride multiple times so I took a long walk to the bus station and I used the public transport each time to get to my final destination. We were both in hydr"}, {"author": "A Google user", "rating": 1, "thumbs": 212, "date": "2023-12-31", "text": "The app is full of bugs when u need it, and the drivers react badly whe they see that it is a prepaid drive it's really unprofessional, in general I'm having a bad customer journey, you should focus on that and not just advertising and selling, focus on the quality of the services."}, {"author": "A Google user", "rating": 4, "thumbs": 196, "date": "2025-04-02", "text": "Very good and fast service. But there is a problem exactly in Algeria, some people do not ask for the same price shown in the application and they ask for more. Also sometimes they do not follow the map. Therefore I suggest creating terms and conditions and whoever does not follow them will be punis"}, {"author": "Ami ira", "rating": 1, "thumbs": 185, "date": "2022-08-23", "text": "I didn't like the app that much and i didn't understand the hype about it, first of all the map isn't quite accurate and it s missing a lot of places so it'd be impossible to chose ur destination. Second of all you don't have option to select ur driver, and why not !!? I would prefer if there someso"}, {"author": "A Google user", "rating": 1, "thumbs": 160, "date": "2024-04-23", "text": "The app isn't safe, how could the driver click on the app that he dropped me at my destination while we still halfway there????? There should be a function that prevents them of finishing the ride unless they are in the approximate of the destination"}, {"author": "A Google user", "rating": 1, "thumbs": 156, "date": "2024-05-28", "text": "Ÿàÿ¨ÿ® ŸÖŸÇÿßÿ∑ÿπÿ™ŸÉŸÖ ÿ®ÿπÿØ ÿπŸÇÿØŸÉŸÖ ŸÖÿπ ÿ¥ÿ±ŸÉÿ© ŸÉÿßÿ±ŸÅŸàÿ±ÿå #ŸÇÿßÿ∑ÿπŸà_Ÿäÿ≥Ÿäÿ±"}, {"author": "A Google user", "rating": 1, "thumbs": 155, "date": "2024-05-28", "text": "ŸÇÿßÿ∑ÿπŸàÿß Ÿäÿ≥Ÿäÿ± ÿ≠ÿ™ŸëŸâ ÿ™ÿπŸÑŸÜ ÿπŸÜ ÿ™ÿÆŸÑŸäŸáÿß ÿπŸÜ ÿ¥ÿ±ÿßŸÉÿ™Ÿáÿß ŸÖÿπ ŸÉÿßÿ±ŸÅŸàÿ± ŸÉÿßŸäŸÜ ÿ®ÿØÿßÿ¶ŸÑ üòâ"}], "languages": {"labels": ["French", "English", "Arabic"], "counts": [793, 410, 297], "avg_ratings": [3.68, 3.0, 2.27]}};
const C = {purple:'#6C2BDB',pink:'#E91E8C',green:'#2ecc71',red:'#e74c3c',yellow:'#f39c12',blue:'#3498db',muted:'#7070a0',card:'#16162a',text:'#e8e8f0'};
const CD = {responsive:true,maintainAspectRatio:false,plugins:{legend:{labels:{color:C.text,font:{family:'DM Sans'}}}}};

function showPage(id){
  document.querySelectorAll('.page').forEach(p=>p.classList.remove('active'));
  document.querySelectorAll('.nav-item').forEach(n=>n.classList.remove('active'));
  document.getElementById('page-'+id).classList.add('active');
  document.querySelectorAll('.nav-item').forEach(n=>{if(n.getAttribute('onclick')?.includes(id))n.classList.add('active');});
  setTimeout(()=>{document.querySelectorAll('#page-'+id+' .animate-in').forEach((el,i)=>{setTimeout(()=>el.classList.add('visible'),i*80);});},50);
  if(window.innerWidth<900)toggleSidebar(false);
}
function toggleSidebar(force){
  const s=document.getElementById('sidebar'),o=document.getElementById('overlay');
  const open=force!==undefined?force:!s.classList.contains('open');
  s.classList.toggle('open',open);o.classList.toggle('show',open);
}

// ‚îÄ‚îÄ OVERVIEW ‚îÄ‚îÄ
new Chart(document.getElementById('sentimentDonut'),{type:'doughnut',data:{labels:['Positive (4-5‚òÖ)','Neutral (3‚òÖ)','Negative (1-2‚òÖ)'],datasets:[{data:[D.meta.count_pos,D.meta.count_neu,D.meta.count_neg],backgroundColor:[C.green,C.yellow,C.red],borderWidth:3,borderColor:C.card,hoverOffset:8}]},options:{...CD,cutout:'68%',plugins:{...CD.plugins,tooltip:{callbacks:{label:ctx=>` ${ctx.label}: ${ctx.raw.toLocaleString()} (${(ctx.raw/D.meta.total*100).toFixed(1)}%)`}}}}});
new Chart(document.getElementById('yearlyBar'),{type:'bar',data:{labels:D.yearly.labels,datasets:[{data:D.yearly.counts,backgroundColor:D.yearly.counts.map((v,i)=>i===D.yearly.counts.indexOf(Math.max(...D.yearly.counts))?C.purple:'rgba(108,43,219,0.35)'),borderRadius:6,borderSkipped:false}]},options:{...CD,plugins:{...CD.plugins,legend:{display:false}},scales:{x:{grid:{color:'rgba(255,255,255,0.04)'},ticks:{color:C.muted}},y:{grid:{color:'rgba(255,255,255,0.04)'},ticks:{color:C.muted}}}}});
new Chart(document.getElementById('monthlyLine'),{type:'line',data:{labels:D.monthly.labels,datasets:[{data:D.monthly.all,label:'Reviews',borderColor:C.purple,backgroundColor:'rgba(108,43,219,0.1)',fill:true,tension:0.4,pointRadius:0}]},options:{...CD,plugins:{...CD.plugins,legend:{display:false}},scales:{x:{grid:{display:false},ticks:{color:C.muted,maxTicksLimit:8}},y:{grid:{color:'rgba(255,255,255,0.04)'},ticks:{color:C.muted}}}}});
new Chart(document.getElementById('ratingBarOverview'),{type:'bar',indexAxis:'y',data:{labels:['1‚òÖ','2‚òÖ','3‚òÖ','4‚òÖ','5‚òÖ'],datasets:[{data:D.rating_all,backgroundColor:[C.red,'#e67e22',C.yellow,'#27ae60',C.green],borderRadius:5,borderSkipped:false}]},options:{...CD,plugins:{...CD.plugins,legend:{display:false}},scales:{x:{grid:{color:'rgba(255,255,255,0.04)'},ticks:{color:C.muted}},y:{grid:{display:false},ticks:{color:C.text}}}}});

// ‚îÄ‚îÄ RATINGS ‚îÄ‚îÄ
const yearBtns=document.getElementById('year-filter-btns');
Object.keys(D.rating_by_year).forEach(yr=>{const b=document.createElement('button');b.className='filter-btn';b.textContent=yr;b.onclick=()=>filterRatings(yr,b);yearBtns.appendChild(b);});
let ratingBarChart=new Chart(document.getElementById('ratingBarDetail'),{type:'bar',data:{labels:['1‚òÖ','2‚òÖ','3‚òÖ','4‚òÖ','5‚òÖ'],datasets:[{data:D.rating_all,backgroundColor:[C.red,'#e67e22',C.yellow,'#27ae60',C.green],borderRadius:8,borderSkipped:false}]},options:{...CD,plugins:{...CD.plugins,legend:{display:false}},scales:{x:{grid:{display:false},ticks:{color:C.text,font:{size:14,weight:'bold'}}},y:{grid:{color:'rgba(255,255,255,0.04)'},ticks:{color:C.muted}}},animation:{duration:600,easing:'easeOutQuart'}}});
let sentPie=new Chart(document.getElementById('sentimentPie'),{type:'pie',data:{labels:['Positive','Neutral','Negative'],datasets:[{data:[D.meta.count_pos,D.meta.count_neu,D.meta.count_neg],backgroundColor:[C.green,C.yellow,C.red],borderWidth:3,borderColor:C.card,hoverOffset:10}]},options:{...CD,plugins:{...CD.plugins,tooltip:{callbacks:{label:ctx=>` ${ctx.label}: ${(ctx.raw/D.meta.total*100).toFixed(1)}%`}}}}});
const rolling=D.monthly.avg_rating.map((v,i,a)=>i===0||i===a.length-1?v:+((a[i-1]+v+a[i+1])/3).toFixed(2));
new Chart(document.getElementById('ratingTrend'),{type:'line',data:{labels:D.monthly.labels,datasets:[{label:'Monthly avg',data:D.monthly.avg_rating,borderColor:'rgba(255,255,255,0.2)',fill:false,tension:0.4,pointRadius:0},{label:'3-month rolling',data:rolling,borderColor:C.purple,borderWidth:2.5,fill:false,tension:0.4,pointRadius:0},{label:'Overall avg',data:D.monthly.labels.map(()=>D.meta.avg_rating),borderColor:C.red,borderDash:[6,3],borderWidth:1.5,pointRadius:0,fill:false}]},options:{...CD,scales:{x:{grid:{display:false},ticks:{color:C.muted,maxTicksLimit:8}},y:{min:1,max:5,grid:{color:'rgba(255,255,255,0.04)'},ticks:{color:C.muted}}}}});

function filterRatings(yr,btn){
  document.querySelectorAll('#page-ratings .filter-btn').forEach(b=>b.classList.remove('active'));
  btn.classList.add('active');
  document.getElementById('rating-year-badge').textContent=yr==='all'?'All Years':yr;
  const d=yr==='all'?D.rating_all:D.rating_by_year[yr];
  ratingBarChart.data.datasets[0].data=d; ratingBarChart.update();
  const total=d.reduce((a,b)=>a+b,0);
  const pos=d[3]+d[4],neg=d[0]+d[1],neu=d[2];
  sentPie.data.datasets[0].data=[pos,neu,neg]; sentPie.update();
}

// ‚îÄ‚îÄ TRENDS ‚îÄ‚îÄ
let trendChart=new Chart(document.getElementById('trendLine'),{type:'line',data:{labels:D.monthly.labels,datasets:[{label:'All Reviews',data:D.monthly.all,borderColor:C.purple,backgroundColor:'rgba(108,43,219,0.12)',fill:true,tension:0.4,pointRadius:2,pointHoverRadius:6}]},options:{...CD,scales:{x:{grid:{display:false},ticks:{color:C.muted,maxTicksLimit:10}},y:{grid:{color:'rgba(255,255,255,0.04)'},ticks:{color:C.muted}}}}});
function switchTrend(t){
  document.querySelectorAll('#page-trends .filter-btn').forEach(b=>b.classList.remove('active'));
  document.getElementById('trend-'+t).classList.add('active');
  const map={all:{d:D.monthly.all,c:C.purple,l:'All Reviews'},pos:{d:D.monthly.pos,c:C.green,l:'Positive'},neg:{d:D.monthly.neg,c:C.red,l:'Negative'}};
  const m=map[t]; trendChart.data.datasets[0].data=m.d; trendChart.data.datasets[0].borderColor=m.c;
  trendChart.data.datasets[0].backgroundColor=m.c+'33';
  trendChart.data.datasets[0].label=m.l; trendChart.update();
}
(()=>{
  const tl=document.getElementById('timeline-chart');
  const mx=Math.max(...D.yearly.counts);
  tl.innerHTML=D.yearly.labels.map((yr,i)=>{
    const w=Math.round(D.yearly.counts[i]/mx*100);
    return `<div class="timeline-item"><div class="timeline-year">${yr}</div><div class="timeline-bar-wrap"><div class="timeline-bar" style="width:0%" data-w="${w}%"></div><div class="timeline-count">${D.yearly.counts[i].toLocaleString()} reviews</div></div></div>`;
  }).join('');
  setTimeout(()=>tl.querySelectorAll('.timeline-bar').forEach(b=>b.style.width=b.dataset.w+'%'),400);
})();
new Chart(document.getElementById('heatmapChart'),{type:'bubble',data:{datasets:[{data:D.heatmap.data,backgroundColor:ctx=>{const v=ctx.raw.v;const a=Math.min(0.9,0.1+v/300);return `rgba(108,43,219,${a})`;},borderColor:'rgba(108,43,219,0.35)',borderWidth:1}]},options:{...CD,plugins:{...CD.plugins,legend:{display:false},tooltip:{callbacks:{label:ctx=>`${D.heatmap.month_labels[ctx.raw.y]}, ${D.heatmap.year_labels[ctx.raw.x]}: ${ctx.raw.v} reviews`}}},scales:{x:{min:-0.5,max:D.heatmap.year_labels.length-0.5,grid:{display:false},ticks:{color:C.muted,callback:v=>D.heatmap.year_labels[v]||''}},y:{min:-0.5,max:11.5,grid:{color:'rgba(255,255,255,0.04)'},ticks:{color:C.muted,callback:v=>D.heatmap.month_labels[v]||''}}}}});

// ‚îÄ‚îÄ WORDS ‚îÄ‚îÄ
function renderCloud(type){
  const words=D.words[type];const mx=words[0].count;
  const container=document.getElementById('wordcloud');container.innerHTML='';
  const pc=['#2ecc71','#27ae60','#1abc9c','#a855f7','#58d68d'];
  const nc=['#e74c3c','#c0392b','#e67e22','#d35400','#ec407a'];
  const ac=['#6C2BDB','#E91E8C','#a855f7','#2ecc71','#e74c3c','#3498db'];
  words.forEach((w,i)=>{
    const size=12+(w.count/mx)*28;
    const colors=type==='pos'?pc:type==='neg'?nc:ac;
    const el=document.createElement('span');el.className='wc-word';el.textContent=w.word;
    el.style.fontSize=size+'px';el.style.color=colors[i%colors.length];
    el.style.opacity=0.6+(w.count/mx)*0.4;el.title=`${w.word}: ${w.count} occurrences`;
    container.appendChild(el);
  });
}
renderCloud('all');
function switchCloud(t,btn){document.querySelectorAll('#page-words .filter-btn').forEach(b=>b.classList.remove('active'));btn.classList.add('active');renderCloud(t);}
new Chart(document.getElementById('topWordsPos'),{type:'bar',indexAxis:'y',data:{labels:D.words.pos.map(w=>w.word),datasets:[{data:D.words.pos.map(w=>w.count),label:'Frequency',backgroundColor:'rgba(46,204,113,0.7)',borderRadius:4,borderSkipped:false}]},options:{...CD,plugins:{...CD.plugins,legend:{display:false}},scales:{x:{grid:{color:'rgba(255,255,255,0.04)'},ticks:{color:C.muted}},y:{grid:{display:false},ticks:{color:C.text}}}}});
new Chart(document.getElementById('topWordsNeg'),{type:'bar',indexAxis:'y',data:{labels:D.words.neg.map(w=>w.word),datasets:[{data:D.words.neg.map(w=>w.count),label:'Frequency',backgroundColor:'rgba(231,76,60,0.7)',borderRadius:4,borderSkipped:false}]},options:{...CD,plugins:{...CD.plugins,legend:{display:false}},scales:{x:{grid:{color:'rgba(255,255,255,0.04)'},ticks:{color:C.muted}},y:{grid:{display:false},ticks:{color:C.text}}}}});

// ‚îÄ‚îÄ REVIEWS ‚îÄ‚îÄ
function renderReviews(filter){
  const reviews=filter==='all'?D.top_reviews:filter==='pos'?D.top_reviews.filter(r=>r.rating>=4):D.top_reviews.filter(r=>r.rating<=2);
  document.getElementById('review-list').innerHTML=reviews.map(r=>`<div class="review-item"><div class="review-meta"><div class="review-stars ${r.rating<=2?'neg':''}">${'‚òÖ'.repeat(r.rating)}${' ‚òÜ'.repeat(5-r.rating)}</div><div class="review-author">${r.author}</div><div class="review-date">${r.date}</div></div><div class="review-text">${r.text}</div><div class="review-thumbs">üëç ${r.thumbs} people found this helpful</div></div>`).join('');
}
renderReviews('all');
function filterReviews(t,btn){document.querySelectorAll('#page-reviews .filter-btn').forEach(b=>b.classList.remove('active'));btn.classList.add('active');renderReviews(t);}
new Chart(document.getElementById('thumbsChart'),{type:'bar',indexAxis:'y',data:{labels:D.top_reviews.slice(0,8).map(r=>r.author.substring(0,14)+'‚Ä¶'),datasets:[{data:D.top_reviews.slice(0,8).map(r=>r.thumbs),label:'üëç',backgroundColor:D.top_reviews.slice(0,8).map(r=>r.rating<=2?'rgba(231,76,60,0.7)':'rgba(46,204,113,0.7)'),borderRadius:4}]},options:{...CD,plugins:{...CD.plugins,legend:{display:false}},scales:{x:{grid:{color:'rgba(255,255,255,0.04)'},ticks:{color:C.muted}},y:{grid:{display:false},ticks:{color:C.text,font:{size:10}}}}}});

// ‚îÄ‚îÄ LANGUAGES ‚îÄ‚îÄ
new Chart(document.getElementById('langDonut'),{type:'doughnut',data:{labels:D.languages.labels,datasets:[{data:D.languages.counts,backgroundColor:[C.blue,C.green,C.red,'#9b59b6'],borderWidth:3,borderColor:C.card,hoverOffset:8}]},options:{...CD,cutout:'60%',plugins:{...CD.plugins,tooltip:{callbacks:{label:ctx=>`${ctx.label}: ${ctx.raw} (${(ctx.raw/D.languages.counts.reduce((a,b)=>a+b,0)*100).toFixed(1)}%)`}}}}});
(()=>{
  const total=D.languages.counts.reduce((a,b)=>a+b,0);
  const colors=[C.blue,C.green,C.red,'#9b59b6'];
  document.getElementById('lang-bars').innerHTML=D.languages.labels.map((l,i)=>{
    const pct=(D.languages.counts[i]/total*100).toFixed(1);
    return `<div class="lang-bar-item"><div class="lang-bar-label"><span>${l}</span><span style="color:${colors[i]}">${pct}%</span></div><div class="lang-bar-track"><div class="lang-bar-fill" style="width:0%;background:${colors[i]}" data-w="${pct}%"></div></div></div>`;
  }).join('');
  setTimeout(()=>document.querySelectorAll('.lang-bar-fill').forEach(b=>b.style.width=b.dataset.w),400);
})();
new Chart(document.getElementById('langRating'),{type:'bar',data:{labels:D.languages.labels,datasets:[{label:'Avg Rating',data:D.languages.avg_ratings,backgroundColor:[C.blue,C.green,C.red,'#9b59b6'],borderRadius:8,borderSkipped:false}]},options:{...CD,plugins:{...CD.plugins,legend:{display:false}},scales:{x:{grid:{display:false},ticks:{color:C.text}},y:{min:0,max:5,grid:{color:'rgba(255,255,255,0.04)'},ticks:{color:C.muted}}}}});

// ‚îÄ‚îÄ INSIGHTS ‚îÄ‚îÄ
new Chart(document.getElementById('lengthChart'),{type:'bar',data:{labels:['Positive (4-5‚òÖ)','Neutral (3‚òÖ)','Negative (1-2‚òÖ)'],datasets:[{label:'Avg Characters',data:[D.meta.avg_len_pos,D.meta.avg_len_neu,D.meta.avg_len_neg],backgroundColor:[C.green,C.yellow,C.red],borderRadius:8,borderSkipped:false}]},options:{...CD,plugins:{...CD.plugins,legend:{display:false}},scales:{x:{grid:{display:false},ticks:{color:C.text}},y:{grid:{color:'rgba(255,255,255,0.04)'},ticks:{color:C.muted},title:{display:true,text:'Avg Characters',color:C.muted}}}}});
new Chart(document.getElementById('stackedBar'),{type:'bar',data:{labels:D.stacked.years,datasets:[{label:'5‚òÖ',data:D.stacked.by_star['5'],backgroundColor:C.green,borderRadius:2},{label:'4‚òÖ',data:D.stacked.by_star['4'],backgroundColor:'#27ae60',borderRadius:2},{label:'3‚òÖ',data:D.stacked.by_star['3'],backgroundColor:C.yellow,borderRadius:2},{label:'2‚òÖ',data:D.stacked.by_star['2'],backgroundColor:'#e67e22',borderRadius:2},{label:'1‚òÖ',data:D.stacked.by_star['1'],backgroundColor:C.red,borderRadius:2}]},options:{...CD,scales:{x:{stacked:true,grid:{display:false},ticks:{color:C.text}},y:{stacked:true,grid:{color:'rgba(255,255,255,0.04)'},ticks:{color:C.muted}}}}});
document.getElementById('rec-grid').innerHTML=[
  {icon:'üöó',title:'Driver Quality',text:'Implement real-time driver rating alerts. Driver behavior is the #1 variable in user satisfaction across all languages.'},
  {icon:'üêõ',title:'Bug Fixes',text:'Rating dips correlate with app updates. Strengthen QA testing pipelines before each release.'},
  {icon:'üí∞',title:'Pricing Transparency',text:'Users feel surprised by surge pricing. Add clear fee breakdowns before confirming orders.'},
  {icon:'üá©üáø',title:'Arabic Support',text:'Arabic reviewers are an underserved segment. Prioritize Arabic UI and dedicated customer support.'},
  {icon:'üìä',title:'Monthly Monitoring',text:'Build an internal dashboard to track review sentiment monthly and catch issues before they escalate.'},
  {icon:'ü§ñ',title:'NLP Next Steps',text:'Train a multilingual sentiment classifier. Aspect-based analysis for drivers, pricing, and bugs.'}
].map(r=>`<div class="chart-card" style="padding:16px"><div style="font-size:22px;margin-bottom:8px">${r.icon}</div><div style="font-family:'Syne',sans-serif;font-weight:700;font-size:13px;margin-bottom:6px;color:#a855f7">${r.title}</div><div style="font-size:12px;color:#c0c0d8;line-height:1.6">${r.text}</div></div>`).join('');

// ‚îÄ‚îÄ INIT ANIMATIONS ‚îÄ‚îÄ
setTimeout(()=>document.querySelectorAll('#page-overview .animate-in').forEach((el,i)=>setTimeout(()=>el.classList.add('visible'),i*100)),100);
Chart.defaults.color=C.muted; Chart.defaults.borderColor='rgba(255,255,255,0.06)';
</script>
</body>
</html>